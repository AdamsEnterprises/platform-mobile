<div class="field-location" [class.invalid]="attribute.required == true && latitude == null && longitude == null && submitted == true">
  <ion-item no-lines [formGroup]="formGroup">
    <ion-label class="field-label">
      {{attribute.label}}
      <span ion-text color="danger" *ngIf="attribute.required == true">*</span>
    </ion-label>
    <div [formGroupName]="attribute.key">
      <ion-input type="text" hidden formControlName="lat" [(ngModel)]="latitude"></ion-input>
      <ion-input type="text" hidden formControlName="lon" [(ngModel)]="longitude"></ion-input>
    </div>
  </ion-item>
  <ion-card margin-left margin-right *ngIf="latitude && longitude">
    <img full (error)="this.display='none'" src="https://maps.googleapis.com/maps/api/staticmap?center={{latitude}},{{longitude}}&zoom=15&size=300x200&maptype=roadmap&markers=color:red%7C{{latitude}},{{longitude}}&key={{key}}" />
  </ion-card>
  <button ion-button margin-left icon-left text-uppercase small color="light" *ngIf="latitude && longitude" (click)="updateLocation($event)">
    <ion-icon name="pin"></ion-icon> Change Location
  </button>
  <p ion-text padding-left color="red" *ngIf="attribute.required == true && latitude == null && longitude == null && submitted == true">Location required</p>
</div>
